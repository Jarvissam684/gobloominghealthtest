{
  "ensemble_config": {
    "model_1": "xgb_v1_20250207",
    "model_2": "lstm_v1_20250207",
    "combination_method": "weighted_average",
    "weights": {
      "xgboost": 0.65,
      "lstm": 0.35
    },
    "weight_rationale": "Option B: inverse-accuracy weights\u2014XGBoost (higher accuracy) receives 0.65, LSTM 0.35 for robustness.",
    "calibration": {
      "xgb_temperature": 0.98,
      "lstm_temperature": 1.05,
      "description": "Temperature scaling applied per model: P_calibrated = softmax(logits / T). Values near 1.0 indicate already well-calibrated probabilities; tune on held-out validation if needed."
    },
    "real_time_strategy": {
      "0_10_percent": "xgboost_only",
      "20_60_percent": "both_models_separate",
      "60_100_percent": "ensemble"
    },
    "real_time_rationale": "Early (0\u201310%): XGBoost only\u2014LSTM has minimal sequence. Mid (20\u201360%): show both predictions. Late (60\u2013100%): use weighted ensemble; both models have sufficient signal."
  },
  "ensemble_formula": {
    "probability": "P_ensemble(class_i) = w_xgb * P_xgb(class_i) + w_lstm * P_lstm(class_i)",
    "constraint": "w_xgb + w_lstm = 1",
    "confidence": "max over classes of P_ensemble(class_i)",
    "risk_score": "1 - confidence"
  },
  "ensemble_test_performance": {
    "test_accuracy": 0.926,
    "test_precision_macro": 0.864,
    "test_recall_macro": 0.9412,
    "test_f1_macro": 0.8899,
    "improvement_over_xgb": "+3%",
    "improvement_over_lstm": "+23%",
    "xgb_only_on_this_test": {
      "accuracy": 0.898,
      "f1_macro": 0.8646
    },
    "lstm_only_on_this_test": {
      "accuracy": 0.696,
      "f1_macro": 0.4443
    },
    "test_samples": 500,
    "note": "Computed on common test set (500 partial sequences, 80/20 split from 2500)."
  },
  "prediction_example": {
    "call_id": "call_00323_p100",
    "completion_percent": 100,
    "actual_outcome": "abandoned",
    "xgb_prediction": {
      "outcome": "abandoned",
      "confidence": 0.9945
    },
    "lstm_prediction": {
      "outcome": "completed",
      "confidence": 0.6205
    },
    "ensemble_prediction": {
      "outcome": "abandoned",
      "confidence": 0.7549,
      "risk_score": 0.2451
    },
    "explanation": "Models disagree; ensemble voted."
  },
  "confidence_and_risk": {
    "confidence_definition": "Final ensemble confidence = max probability of predicted class",
    "risk_score_definition": "risk_score = 1 - confidence (probability of misclassification)",
    "example": "If P_ensemble(completed) = 0.87 then confidence = 0.87, risk_score = 0.13"
  },
  "options_summary": {
    "option_a_equal": {
      "w_xgb": 0.5,
      "w_lstm": 0.5,
      "use_case": "When models are similarly accurate"
    },
    "option_b_recommended": {
      "w_xgb": 0.65,
      "w_lstm": 0.35,
      "use_case": "Default for robustness; XGBoost slightly better"
    },
    "option_c_adaptive": {
      "description": "Adaptive by completion_percent",
      "early_20": "Trust LSTM more (temporal patterns)",
      "late_80_plus": "Trust XGBoost more (full feature picture)",
      "use_case": "Real-time dashboards; can implement as w_xgb = f(completion_percent)"
    }
  }
}